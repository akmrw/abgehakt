(()=>{var L=(s,o)=>()=>(o||s((o={exports:{}}).exports,o),o.exports);var h=L((g,C)=>{C.exports={BIN_ID:"6825827b8561e97a50143be1",API_KEY:"$2a$10$rmvKCTl1GBAmqLEtwmbEJOfXrcOSeHQl1OlTaDEEPhyOOgh0RK6x6",BASE_URL:"https://api.jsonbin.io/v3/b/"}});var c=h(),d=[];document.addEventListener("DOMContentLoaded",()=>{let s=document.getElementById("listLoader"),o=document.getElementById("entryContainer");s.innerHTML='<p id="listHeader">Deine Listen</p><div id="listContainer"></div>';let m=document.getElementById("listContainer");fetch(c.BASE_URL+c.BIN_ID,{headers:{"X-Master-Key":c.API_KEY}}).then(t=>t.json()).then(t=>{d=t.record,console.log("Geladene Listen:",d),d.forEach(e=>{let n=document.createElement("button");n.textContent=e.name,n.id=`list_${e.id}`,n.addEventListener("click",()=>{E(e)}),m.appendChild(n)})});function E(t){o.innerHTML=`<h2>${t.name}</h2><ul></ul>`;let e=o.querySelector("ul");t.entries.forEach(n=>{let r=document.createElement("li"),i=document.createElement("input");i.type="checkbox",i.id=`entry_${n.id}`,i.checked=!n.active;let l=document.createElement("label");l.htmlFor=i.id,l.textContent=n.name,r.appendChild(i),r.appendChild(l),e.appendChild(r),i.addEventListener("change",()=>{r.classList.toggle("checked",i.checked);let p=d.find(a=>a.id===t.id).entries.find(a=>a.id===n.id);p.active=!i.checked,u(d)})})}function u(t){fetch(c.BASE_URL+c.BIN_ID,{method:"PUT",headers:{"Content-Type":"application/json","X-Master-Key":c.API_KEY,"X-Bin-Versioning":!1},body:JSON.stringify(t)}).then(e=>e.json()).then(e=>{console.log("Speichern erfolgreich:",e)}).catch(e=>{console.error("Fehler beim Speichern:",e)})}});})();
